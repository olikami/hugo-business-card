<title>{{ .Page.Title }}</title>

<meta
	name="description"
	content="{{ T "description" . }}" />

<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<!-- JSON-LD -->
<script type="application/ld+json">
{
	"@context": "https://schema.org",
	"@type": "Person",
	{{- with .Page.Params.email }}
	"email": "mailto:{{ . }}",
	{{ end -}}
	{{- $portrait := .Resources.GetMatch "portrait" -}}
	{{- with $portrait }}
	"image": "{{ (.Fill "256x256").Permalink }}",
	{{ end -}}
	"name": "{{ .Page.Title }}",
	{{- with .Page.Params.phone }}
	"telephone": "{{ . }}",
	{{ end -}}
	"url": "{{ .Page.Permalink }}"
}
</script>

<!-- Opengraph -->
{{ partial "opengraph.html" . }}

<!-- Twitter Card -->
{{ partial "twittercard.html" . }}

<!-- Tailwind styles -->
{{ $scss := resources.Get "tailwind.scss" }}

{{ if hugo.IsProduction }}
{{ $style := $scss | resources.ToCSS | resources.PostCSS (dict "config" "prod/postcss.config.js") | fingerprint | resources.PostProcess }}
<style>
	{{ $style.Content | safeCSS }}
</style>
{{ else }}
{{ $style := $scss | resources.ToCSS | resources.PostCSS (dict "config" "dev/postcss.config.js") | fingerprint }}
<link rel="stylesheet" href="{{ $style.RelPermalink }}">
{{ end }}

<!-- Icons -->
{{ $portrait := .Resources.GetMatch "*icon*" }}
{{ if not $portrait }}{{ $portrait = .Resources.GetMatch "*portrait*" }}{{ end }}
{{ with $portrait }}
<link rel="apple-touch-icon" sizes="60x60" href="{{ (.Fill "60x60 png").Permalink }}"/>
<link rel="apple-touch-icon" sizes="76x76" href="{{ (.Fill "76x76 png").Permalink }}"/>
<link rel="apple-touch-icon" sizes="120x120" href="{{ (.Fill "120x120 png").Permalink }}"/>
<link rel="apple-touch-icon" sizes="152x152" href="{{ (.Fill "152x152 png").Permalink }}"/>
<link rel="apple-touch-icon" sizes="180x180" href="{{ (.Fill "180x180 png").Permalink }}"/>
<link rel="icon" type="image/png" sizes="32x32" href="{{ (.Fill "32x32 png").Permalink }}"/>
<link rel="icon" type="image/png" sizes="16x16" href="{{ (.Fill "16x16 png").Permalink }}"/>
{{ end -}}

<!-- Preconnect to external domains from menu -->
{{- range .Site.Menus.main }}
{{ $url := urls.Parse (.URL | absLangURL) }}
<link rel="preconnect" href="{{ $url.Scheme }}://{{ $url.Host }}">
{{- end }}

<!-- Hugo generator tag -->
{{ hugo.Generator }}